#!usr/bin/env python
# encoding:utf-8
'''
__Author__:沂水寒城
功能：找到给定列表中满足给定和的所有子列表，元素可重复使用
'''

def find_all_sum_list(num_list, num):
    if not num_list:
        return []
    res_list = []
    num_list.sort()
    find_all(num_list, num, [], res_list)
    print('find_all({0},{1})'.format(num, res_list))
    return res_list

def find_all(num_list, num, tmp_list, res_list):
    if tmp_list:
        tmp = sum(tmp_list)
    else:
        tmp = 0
    if tmp > num:
        return
    elif tmp == num:
        res_list.append(tmp_list)
        return
    else:
        for i in range(len(num_list)):
            new_list = [num_list[i]]
            find_all(num_list[(i+1):], num, tmp_list + new_list, res_list)
            # print('find_all({0},{1},{2},{3})'.format(num_list[i:], num, tmp_list + new_list, res_list))
            # print('find_all({0},{1},{2})'.format( num, tmp_list + new_list, res_list))

if __name__ == '__main__':
    num_list = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]
    xnum_list = [5108.00, 26170.00, 50000.00, 4000.00, 3082.00, 3275.00, 176.00, 4180.00, 4437.00, 7297.00, 1657.00,
                 6783.00, 5060.00, 4657.00, 2860.00, 27862.00, 2525.00, 11984.00, 50000.00, 7077.00, 4767.00, 5280.00,
                 5023.00, 1231.00, 3900.00, 7800.00, 11653.00, 13065.00, 3000.00, 2700.00, 5940.00, 9350.00, 9313.00,
                 9093.00, 16760.00, 3007.00, 5023.00, 7169.00, 7333.00, 9197.00, 9093.00, 9900.00, 8507.00, 10617.00,
                 6050.00, 10497.00, 7297.00, 7297.00, 5353.00, 7773.00, 5353.00, 13216.00, 8612.00, 1678.00, 42525.00,
                 9093.00, 16000.00, 10975.00, 420.00, 16227.00, 8030.00, 3740.00, 16223.00, 8507.00, 11770.00, 3000.00,
                 3300.00, 1000.00, 10580.00, 2017.00, 257.00, 3000.00, 964.00, 2575.00, 3000.00, 5000.00, 5000.00,
                 5971.00, 1000.00, 1170.00, 2100.00, 3000.00, 7000.00, 6000.00, 4068.50, 3000.00, 5540.00, 6900.00,
                 4176.00, 3000.00, 8691.00, 16951.00, 2000.00, 3290.00, 2789.00, 6901.00, 2730.00, 2997.00, 2500.00,
                 2500.00, 10052.00, 2000.00, 2911.00, 2445.00, 1350.00, 3985.00, 1765.00, 1872.00, 1100.00, 1265.00,
                 4485.00, 4500.00, 6392.00, 4408.00, 1000000.00, 6165.00, 5808.00, 3000.00, 6274.00, 10000.00, 5334.00,
                 10000.00, 14600.00, 4700.00, 5000.00, 5500.00, 6018.00, 7000.00, 3277.00, 3000.00, 7986.80, 8600.00,
                 7460.00, 7038.00, 4100.00, 7000.00, 2250.00, 1500.00, 4544.00, 13967.00, 3400.00]
    # for one_num in num_list:
    print('---------------------------------------------------------------')
    #find_all_sum_list(xnum_list, 149814.00)
    find_all_sum_list(xnum_list, 149814.00)
    print('---------------------------------------------------------------')
